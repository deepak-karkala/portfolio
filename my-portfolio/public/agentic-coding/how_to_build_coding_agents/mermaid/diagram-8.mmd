---
config:
  look: neo
  theme: base
  themeVariables:
    fontFamily: 'Inter, ui-sans-serif, system-ui'
    fontSize: '16px'
    primaryTextColor: '#0F172A'
    lineColor: '#334155'
    edgeLabelBackground: '#FFFFFF'
    clusterTextSize: '15px'
    clusterTextWeight: '600'
    borderRadius: '4'
    shadowColor: '#000000'
    shadowOpacity: '0.12'
    shadowBlur: '4'
  flowchart:
    curve: basis
    nodeSpacing: 50
    rankSpacing: 70
---
flowchart TB
  F1[Context overload / pollution] --> D1[Summarize + drop noisy tool output<br/>Subagents for exploration]
  F2[Retrieval misses wrong files] --> D2[Hybrid retrieval: grep+emb<br/>Cap per-file context + rerank]
  F3[Tool flakiness / unstable env] --> D3[Retries + backoff<br/>Deterministic sandbox images]
  F4[Patch apply failures] --> D4[Atomic diffs + fallback rewrite small region<br/>Preflight check hunks]
  F5[Test fails -> thrashing] --> D5[Localize loop: minimal repro<br/>Change one thing per iteration]
  F6[Permission fatigue] --> D6[Policy tiers: auto-allow reads<br/>Gate writes/risky commands]

  classDef fail fill:#FEE2E2,stroke:#EF4444,stroke-width:2px,color:#0F172A;
  classDef def fill:#DCFCE7,stroke:#4ADE80,stroke-width:2px,color:#0F172A;

  class F1,F2,F3,F4,F5,F6 fail;
  class D1,D2,D3,D4,D5,D6 def;
